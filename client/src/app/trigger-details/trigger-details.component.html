<div class="container">
  <div class="row">
    <div class ="col-2"></div>

    <div class ="col-8" >
      <a (click)="goBack()" class="back">Back</a>
      <h1>Complete Trigger Fields</h1>
      <span >
        Step 3 of 6
      </span>
 
      <form #detailForm="ngForm" class = "p-2" [ngStyle]="{'background-color': triggerService.color}" >
        <h3 class ="text-white">{{trigger.name}}</h3>
        <p class ="text-white">{{trigger.description}}</p>

        <div class="list-group">
          <div class = "p-2" *ngFor="let detail of details; let i = index">
            <p class="text-white field-name label">{{detail.name}}</p>
            <div *ngIf = "!detail.alternatives" class="ingredients-text-field ingredients-text-field-text ingredients-text-field-on-color">
              <div class="growing-text-area">
                <input class = "form-control" type="text" [(ngModel)] = "detail.value" name="f{{i}}">
              </div>
            </div>
            <div *ngIf = "detail.alternatives" class="ingredients-text-field ingredients-text-field-text ingredients-text-field-on-color">
              <div *ngIf ="detail.type == 'entity'" class="growing-text-area">
                <select class = "form-control" [(ngModel)] = "detail.value" name="f{{i}}"  class="options__1evns" required>
                  <option *ngFor="let entity of detail.alternatives" [ngValue]="entity">{{entity.name}}</option>
                </select>
              </div>

              <div *ngIf ="detail.type == 'location'" class="growing-text-area">
                <select class = "form-select" [(ngModel)] = "detail.value" name="l{{i}}"  class="options__1evns">
                  <option *ngFor="let location of detail.alternatives" [ngValue]="location">{{location.name}}</option>
                </select>
              </div>
              <!--<div *ngIf = "detail.value == 'Other'"><input type="text" [(ngModel)] = "other_location" placeholder="Type the name of the location" name="other_location" ></div> -->

            </div>
          </div>
        </div>
        <div class ="p-2 mt-3">
          <button (click) = "completeTrigger()" class="w-100 btn btn-lg btn-primary" type="submit" [disabled]="!detailForm.form.valid">Create trigger</button>
        </div>
        
      </form>
    </div>
    <div class ="col-2"></div>

  </div>  
</div>


